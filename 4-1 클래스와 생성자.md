# 4-1. 클래스와 생성자

## 클래스 선언

```kotlin
class User { }
```

클래스는 class 키워드로 선언한다.

만약 클래스의 본문에 입력하는 내용이 없다면 { }를 생략할 수 있다.

*본문이 없고 선언부만 있는 클래스가 의미가 있을까?

자바 프로그래밍에서는 멤버가 없고 선언부만 있는 클래스는 의미가 없다.

하지만 코틀린에서는 클래스의 생성자를 본문이 아닌 선언부에 작성할 수 있어서 본문이 없는 클래스도 의미가 있다. 코틀린에서는 이런 클래스가 자주 등장한다.

```kotlin
class User {
		var name = "kkang"
		constructor(name: String) {
				this.name = name
		}
		fun someFun() {
				println("name : $name")
		}
		class SomeClass { }
}
```

- 클래스 멤버
    - 생성자
        - constructor라는 키워드로 선언하는 함수
    - 변수
    - 함수
    - 클래스
        - 클래스 안에는 다른 클래스를 선언할 수 있다.
    

```kotlin
val user = User("kim")
user.someFin()
```

코틀린에서는 객체를 생성할 때 new 키워드를 사용하지 않는다.

위 코드 처럼 User(”kim”)이 객체를 생성하는 구문이며 클래스 이름과 같은 함수로 객체를 생성한다.

## 주 생성자

코틀린 클래스는 생성자를 주 생성자와 보조 생성자로 구분한다.

한 클래스 안에 주 생성자만 혹은 보조 생성자만 아니면 둘 다 선언할 수도 있다.

```kotlin
class User constructor() {
}
```

주 생성자는 constructor 키워드로 클래스 선언부에 선언한다.

주 생성자 선언은 필수는 아니며 한 클래스에 하나만 가능하다.

```kotlin
class User() {
}
```

주 생성자를 선언할 때 constructor 키워드는 생략할 수 있다.

```kotlin
class User {
}
```

만약 개발자가 클래스의 주 생성자를 선언하지 않으면 컴파일러가 매개변수가 없는 주 생성자를 자동으로 추가한다.

### 주 생성자의 매개변수

```kotlin
class User(name: String, count: Int) {
}
```

주 생성자를 선언할 때 필요에 따라 매개변수를 선언할 수 있다.

```kotlin
val user = User("kkang", 10)
```

앞의 코드는 User클래스를 선언하면서 주 생성자에 매개변수를 2개 선언하였다.

그러면 객체를 생성할 때 매게변수의 타입과 개수에 맞는 인자를 전달해야 한다.

### 주 생성자의 본문 — init 영역

주 생성자를 이용해 객체를 생성할 때 특정한 로직을 수행할 수 있다.

그런데 주 생성자의 실행 영역인 본문을 다음처럼 추가하면 오류가 발생한다.

```kotlin
class User(name: String, count: Int) {
			// 주 생성자 본문
} {   // 오류!
			// 클래스 본문
}
```

보통 클래스나 함수의 본문(실행 영역)은 중괄호 { }로 감싸지만 주 생성자에는 { }를 추가할 수 없다.

왜냐하면 주 생성자는 클래스 선언부에 있기 때문이다.

이럴 때 init 키워드를 이용해 주 새성자의 본문을 구현할 수 있다.

코틀린의 클래스 안에서 init 키워드로 지정한 영역은 객체를 생성 할 때 자동으로 실행된다.

클래스에서 init 영역은 꼭 선언할 필요는 없기에 주 생성자의 본문을 구현하고 싶을 때 사용한다.

init 영역은 주 생성자뿐만 보조 생성자로 객체를 생성할 때도 실행된다. 하지만 보조 생성자는 클래스 안에 선언하므로 {  }를 이용해 본문을 지정할 수 있다. 따라서 init 영역은 일반적으로 주 생성자의 본문을 구현하는 용도로 사용한다.

```kotlin
class User(name: String, count: Int)
		init {
				println("i am init....")
		}
}
fun main() {
		val user = User("kkang", 10)
}
```